{"version":3,"sources":["../../../src/intialLoad/actions/handleRender.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;0BAIyB,aAAa;;2BACT,cAAc;;8BAEZ,kBAAkB;;qBAChB,OAAO;;;;qBACZ,OAAO;;8BACf,sBAAsB;;;;IAEpC,GAAG;cAAH,GAAG;;aAAH,GAAG;8BAAH,GAAG;;mCAAH,GAAG;;;iBAAH,GAAG;;eACC,kBAAG;AACL,mBACI;;kBAAK,SAAS,EAAC,MAAM;;aAEf,CACT;SACJ;;;WAPC,GAAG;;;AAUF,SAAS,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,YAAY,EAAE;AACjD,QAAI,KAAK,GAAG,qDAAqB,YAAY,CAAC,CAAC;;;AAG/C,QAAM,IAAI,GAAG,oCACT;;UAAU,KAAK,EAAE,KAAK,AAAC;QACnB,iCAAC,GAAG,OAAG;KACA,CACd,CAAC;;;AAGF,QAAM,cAAc,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;;;AAGxC,OAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC,CAAC;CAClD;;AAED,SAAS,cAAc,CAAC,IAAI,EAAE,cAAc,EAAE;AAC1C,qKAOqB,IAAI,kPAIH,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC,8GAK5E;CACJ","file":"handleRender.js","sourcesContent":["/**\r\n * Created by eugene on 08/11/17.\r\n */\r\n\r\nimport { Provider } from 'react-redux'\r\nimport { StaticRouter } from 'react-router'\r\n\r\nimport { renderToString } from 'react-dom/server'\r\nimport React, { Component } from 'react'\r\nimport { createStore } from 'redux'\r\nimport reducer from './../reducers/splity'\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"some\">\r\n                here\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport function handleRender(req, res, initialState) {\r\n    let store = createStore(reducer, initialState);\r\n    \r\n    // Render the component to a string\r\n    const html = renderToString(\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    );\r\n\r\n    // Grab the initial state from our Redux store\r\n    const preloadedState = store.getState();\r\n\r\n    // Send the rendered page back to the client\r\n    res.send(renderFullPage(html, preloadedState));\r\n}\r\n\r\nfunction renderFullPage(html, preloadedState) {\r\n    return `\r\n    <!doctype html>\r\n    <html>\r\n      <head>\r\n        <title>Redux Universal Example</title>\r\n      </head>\r\n      <body>\r\n        <div id=\"root\">${html}</div>\r\n        <script>\r\n          // WARNING: See the following for security issues around embedding JSON in HTML:\r\n          // http://redux.js.org/docs/recipes/ServerRendering.html#security-considerations\r\n          window.suka = ${JSON.stringify(preloadedState).replace(/</g, '\\\\u003c')}\r\n        </script>\r\n        <script src=\"/static/bundle.js\"></script>\r\n      </body>\r\n    </html>\r\n    `\r\n}"]}