{"version":3,"sources":["../../src/actions/getUsers.js"],"names":[],"mappings":";;;;;;;;;;;AAIO,SAAS,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE;AAC9B,QAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,QAAI,QAAQ,GAAG,IAAI,OAAO,CAAC,UAAA,OAAO,EAAI;AAClC,UAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,OAAO,EAAK;AACpD,gBAAI,CAAC,KAAK,GAAG,OAAO,CAAC;AACrB,mBAAO,EAAE,CAAC;SACb,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,QAAI,YAAY,GAAG,IAAI,OAAO,CAAC,UAAA,OAAO,EAAI;AACtC,UAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,OAAO,EAAK;AACxD,gBAAI,CAAC,SAAS,GAAG,OAAO,CAAC;AACzB,mBAAO,EAAE,CAAC;SACb,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,QAAI,SAAS,GAAG,IAAI,OAAO,CAAC,UAAA,OAAO,EAAI;AACnC,UAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,OAAO,EAAK;AACrD,gBAAI,CAAC,MAAM,GAAG,OAAO,CAAC;AACtB,mBAAO,EAAE,CAAC;SACb,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,WAAO,CAAC,GAAG,CAAC,CACR,SAAS,EACT,QAAQ,EACR,YAAY,CACf,CAAC,CAAC,IAAI,CAAC,YAAM;AACV,WAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACf,UAAE,CAAC,KAAK,EAAE,CAAC;KACd,CAAC,CAAA;CACL","file":"getUsers.js","sourcesContent":["/**\n * Created by eugene on 07/11/17.\n */\n\nexport function getUsers(db, res) {\n    let data = {};\n\n    let getUsers = new Promise(resolve => {\n        db.collection('users').find().toArray((err, results) => {\n            data.users = results;\n            resolve();\n        });\n    });\n\n    let getDonations = new Promise(resolve => {\n        db.collection('donations').find().toArray((err, results) => {\n            data.donations = results;\n            resolve();\n        });\n    });\n\n    let getEvents = new Promise(resolve => {\n        db.collection('events').find().toArray((err, results) => {\n            data.events = results;\n            resolve();\n        });\n    });\n\n    Promise.all([\n        getEvents,\n        getUsers,\n        getDonations\n    ]).then(() => {\n        res.send(data);\n        db.close();\n    })\n}\n\n\n\n"]}